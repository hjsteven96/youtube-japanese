2025.07.06 21:19
네, 제공해주신 코드베이스를 분석하여 "Ling:to" 서비스의 주요 기능들을 상세하게 정리해 드리겠습니다.

서비스 개요

Ling:to는 사용자가 좋아하는 YouTube 영상을 활용하여 영어를 학습할 수 있도록 돕는 AI 기반 영어 학습 플랫폼입니다. 단순한 자막 제공을 넘어, AI를 통해 영상 콘텐츠를 심층적으로 분석하고, 사용자가 배운 내용을 실제 대화로 연습할 수 있는 인터랙티브한 학습 환경을 제공하는 것이 핵심입니다.

주요 기능 상세

1. AI 기반 YouTube 영상 분석

사용자가 YouTube URL을 입력하면, 시스템은 영상의 내용을 다각도로 분석하여 학습 자료를 자동 생성합니다. 이 과정은 여러 API와 내부 로직을 통해 체계적으로 이루어집니다.

자막 생성 및 추출:

먼저 DownSub API를 통해 영상의 .srt 자막을 가져옵니다.

자막 획득에 실패할 경우, Google의 Gemini API를 통해 영상 파일 자체를 분석하여 타임스탬프가 포함된 자막을 직접 생성합니다. (src/app/api/generate-transcript/route.ts)

AI 내용 분석:

생성된 자막 텍스트를 Gemini API로 전송하여, 한국인 학습자에게 유용한 형태로 분석된 JSON 데이터를 생성합니다. (src/app/api/analyze-transcript/route.ts)

분석 결과물:

영상 요약 (summary): 영상 전체 내용을 한국어로 1~2 문장으로 요약합니다.

핵심 단어 (keywords): 학습자가 알아두면 좋을 주요 영어 단어 5개를 추출합니다.

실전 표현 (slang_expressions): 원어민이 자주 사용하는 슬랭이나 관용구를 영어 표현과 한국어 뜻으로 정리합니다.

핵심 질문 (main_questions): 영상 내용을 기반으로 사용자의 스피킹 연습을 유도하는 영어 질문 2개를 생성합니다.

데이터 캐싱:

한 번 분석된 영상의 결과(자막, AI 분석 데이터, 영상 정보)는 Firestore 데이터베이스(videoAnalyses 컬렉션)에 저장됩니다. 이를 통해 동일한 영상에 대한 반복적인 분석 요청을 피하고 로딩 속도를 향상시킵니다. (src/app/analysis/[videoId]/page.tsx)

2. 인터랙티브 학습 페이지

영상 분석이 완료되면, 사용자는 비디오 플레이어와 여러 학습 도구가 결합된 전용 학습 페이지로 이동합니다.

실시간 하이라이트 자막 뷰어 (TranscriptViewer.tsx):

영상 재생 시간에 맞춰 현재 발화되는 자막 구간이 자동으로 하이라이트되며, 화면 중앙으로 스크롤됩니다.

사용자는 특정 자막의 타임스탬프를 클릭하여 원하는 영상 위치로 즉시 이동할 수 있습니다.

구간 반복 기능: 자막 옆의 반복 버튼을 눌러 특정 문장을 반복 청취하며 쉐도잉 연습을 할 수 있습니다.

문맥 기반 AI 해석 (/api/interpret):

자막에서 모르는 단어나 문장을 마우스로 드래그하면, AI가 영상의 전체 요약과 해당 문장의 맥락을 파악하여 가장 자연스러운 한국어 뜻을 즉시 제공합니다.

이는 단순한 사전적 번역이 아닌, 문맥에 맞는 깊이 있는 해석을 제공하는 핵심 기능입니다.

학습 표현 저장 및 시각화:

AI로 해석한 표현이 마음에 들면 '저장' 버튼을 눌러 '나의 단어장'에 추가할 수 있습니다.

저장된 표현은 자막 내에서 특별한 색(노란색)으로 항상 하이라이트 처리되어, 사용자가 이미 학습한 내용을 쉽게 인지할 수 있습니다. 하이라이트된 표현을 클릭하면 저장된 해석을 다시 확인할 수 있습니다. (src/app/components/TranscriptViewer.tsx)

탭 기반 학습 콘텐츠 (AnalysisTabs.tsx):

자막 탭: 실시간 하이라이트 자막 뷰어를 제공합니다.

주요 표현 탭: AI가 분석한 핵심 단어, 실전 표현 목록과 함께 사용자가 직접 저장한 표현들을 모아서 보여줍니다.

AI 대화 탭: AI가 생성한 핵심 질문을 확인하고, 이를 주제로 AI와 영어 회화 연습을 시작할 수 있습니다.

3. 실시간 AI 영어 회화 연습

Ling:to의 가장 혁신적인 기능으로, 영상에서 배운 내용을 기반으로 AI와 음성 대화를 나누며 실전 스피킹을 연습할 수 있습니다.

기술 스택: Google의 최신 Gemini 2.5 Flash 모델과 양방향 스트리밍 기술을 활용하여 지연 없는 대화 경험을 구현합니다. (src/lib/useGeminiLiveConversation.ts)

대화 프로세스:

사용자가 '대화 시작' 버튼을 누르면, 시스템은 영상 내용과 사용자가 선택한 질문을 AI에게 전달하여 대화의 초기 문맥을 설정합니다.

사용자의 마이크 음성은 실시간으로 16kHz PCM 데이터로 변환되어 스트리밍 서버로 전송됩니다. (AudioInputProcessor.ts, AudioWorklet)

AI는 사용자의 말을 듣고 응답 음성을 생성하여 다시 스트리밍으로 보냅니다.

시스템은 AI의 음성 데이터를 끊김 없이 부드럽게 재생합니다. (AudioPlaybackScheduler.ts)

사용자 경험:

대화는 방해받지 않는 전체 화면 모달(ConversationModal.tsx)에서 진행됩니다.

AI의 상태(듣는 중, 답변 중)와 남은 대화 시간이 시각적으로 표시됩니다.

구독 플랜에 따라 1회 대화 시간 및 월간 총 대화 시간에 제한이 있습니다.

4. 개인화된 학습 관리 (마이페이지)

사용자별 학습 데이터를 체계적으로 관리하고, 학습 과정을 추적할 수 있는 개인화된 공간을 제공합니다.

학습 히스토리 (RecentVideos.tsx):

지금까지 학습한 모든 영상 목록을 시간순으로 보여주어, 언제든지 다시 복습할 수 있습니다.

나만의 단어장 (SavedExpressions.tsx, mypage/page.tsx):

자막에서 저장한 모든 표현을 한곳에 모아 관리할 수 있습니다.

저장된 표현을 검색하거나, 더 이상 필요 없는 표현을 삭제할 수 있습니다.

플랜 및 사용량 확인:

현재 구독 중인 플랜의 종류와 등급별 혜택(일일 분석 횟수, 영상 길이 제한 등)을 확인할 수 있습니다.

오늘 사용한 분석 횟수나 이번 달에 사용한 AI 대화 시간 등 실시간 사용량을 투명하게 보여줍니다.

계정 관리:

Firebase Authentication을 통한 소셜 로그인(Google)을 지원합니다.

로그아웃 및 안전한 회원 탈퇴(재인증 절차 포함) 기능을 제공합니다. (src/app/mypage/page.tsx)

5. 구독 플랜 및 사용량 관리

사용자에게 다양한 수준의 학습 경험을 제공하기 위해 등급별 구독 모델을 운영합니다.

플랜 종류: Free, Plus, Pro 세 가지 등급으로 나뉩니다. (src/lib/plans.ts)

제한 항목: 각 플랜은 아래 항목들에 대해 차등적인 제한을 가집니다.

일일 영상 분석 횟수 (dailyAnalysisLimit)

분석 가능한 최대 영상 길이 (maxVideoDuration)

1회 AI 대화 가능 시간 (sessionTimeLimit)

월간 총 AI 대화 시간 (monthlyTimeLimit)

저장 가능한 단어 수 (maxSavedWords)

사용량 체크: 사용자가 분석이나 AI 대화를 시도할 때, 시스템은 사용자의 플랜에 따른 현재 사용량을 체크하여 기능 접근을 허용하거나 제한 알림을 보냅니다. (src/app/HomeClientContent.tsx, analysis-client-page.tsx)

6. 콘텐츠 탐색 및 SEO 최적화

사용자가 새로운 학습 콘텐츠를 쉽게 발견하고, 검색 엔진을 통해 서비스가 잘 노출되도록 설계되었습니다.

추천 영상 (TrendingVideos.tsx):

홈페이지와 전용 추천 영상 페이지(/trending-videos)에서 다른 사용자들이 최근에 분석한 영상 목록을 보여주어, 사용자의 콘텐츠 탐색을 돕습니다.

SEO (검색 엔진 최적화):

각 분석 페이지는 영상 제목과 내용을 기반으로 동적인 메타 태그(제목, 설명, 키워드, 썸네일)를 생성하여, 구글 등 검색 결과에 효과적으로 노출되도록 합니다. (src/app/analysis/[videoId]/page.tsx)

sitemap.ts와 robots.txt를 통해 검색 엔진 크롤러가 사이트 구조를 효율적으로 파악하도록 돕습니다.
