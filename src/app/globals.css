@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== CSS Variables ===== */
:root {
    /* Light mode colors */
    --foreground-rgb: 17, 24, 39;
    --background-start-rgb: 239, 246, 255;
    --background-end-rgb: 252, 231, 243;

    /* Brand colors */
    --primary-blue: #3b82f6;
    --primary-purple: #8b5cf6;
    --primary-pink: #ec4899;

    /* Gradient colors */
    --gradient-start: #60a5fa;
    --gradient-middle: #a78bfa;
    --gradient-end: #f472b6;

    /* Semantic colors */
    --success: #10b981;
    --warning: #f59e0b;
    --error: #ef4444;
    --info: #3b82f6;

    /* Spacing */
    --radius-sm: 0.375rem;
    --radius-md: 0.5rem;
    --radius-lg: 0.75rem;
    --radius-xl: 1rem;

    /* Shadows */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1);
}

/* Dark mode */
@media (prefers-color-scheme: dark) {
    :root {
        --foreground-rgb: 243, 244, 246;
        --background-start-rgb: 17, 24, 39;
        --background-end-rgb: 31, 41, 55;

        --primary-blue: #60a5fa;
        --primary-purple: #a78bfa;
        --primary-pink: #f472b6;

        --gradient-start: #3b82f6;
        --gradient-middle: #8b5cf6;
        --gradient-end: #ec4899;
    }
}

/* ===== Base Styles ===== */
@layer base {
    html {
        scroll-behavior: smooth;
        -webkit-text-size-adjust: 100%;
    }

    body {
        color: rgb(var(--foreground-rgb));
        background: linear-gradient(
            to bottom right,
            rgb(var(--background-start-rgb)),
            rgb(var(--background-end-rgb))
        );
        min-height: 100vh;
        font-feature-settings: "rlig" 1, "calt" 1;
    }

    /* Typography defaults */
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        font-weight: 700;
        line-height: 1.2;
    }

    p {
        line-height: 1.6;
    }
}

/* ===== Component Styles ===== */
@layer components {
    /* Gradient text utility */
    .gradient-text {
        @apply bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent;
    }

    /* Card component */
    .card {
        @apply bg-white rounded-xl shadow-lg p-6 transition-all duration-300 hover:shadow-xl;
    }

    .card-dark {
        @apply bg-gray-800 text-white;
    }

    /* Button variants */
    .btn-primary {
        @apply bg-gradient-to-r from-blue-500 to-purple-500 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-300 transform hover:scale-105 hover:from-blue-600 hover:to-purple-600 focus:ring-4 focus:ring-purple-300;
    }

    .btn-secondary {
        @apply bg-white text-gray-700 font-semibold py-3 px-6 rounded-lg shadow-md transition-all duration-300 hover:shadow-lg hover:bg-gray-50 focus:ring-4 focus:ring-gray-200;
    }

    .btn-success {
        @apply bg-gradient-to-r from-green-500 to-teal-500 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-300 transform hover:scale-105 hover:from-green-600 hover:to-teal-600;
    }

    /* Input styles */
    .input-primary {
        @apply w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-purple-500 focus:outline-none transition-all duration-300 placeholder-gray-400;
    }

    /* Badge styles */
    .badge {
        @apply inline-flex items-center px-3 py-1 rounded-full text-sm font-medium;
    }

    .badge-blue {
        @apply bg-blue-100 text-blue-800;
    }

    .badge-purple {
        @apply bg-purple-100 text-purple-800;
    }

    .badge-gradient {
        @apply bg-gradient-to-r from-blue-100 to-purple-100 text-purple-800;
    }
}

/* ===== Animations ===== */
@keyframes gradient-shift {
    0%,
    100% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
}

@keyframes float {
    0%,
    100% {
        transform: translateY(0px);
    }
    50% {
        transform: translateY(-10px);
    }
}

@keyframes pulse-glow {
    0%,
    100% {
        opacity: 1;
    }
    50% {
        opacity: 0.5;
    }
}

@keyframes slide-up {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slide-down {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Animation utilities */
.animate-gradient {
    background-size: 200% 200%;
    animation: gradient-shift 3s ease infinite;
}

.animate-float {
    animation: float 3s ease-in-out infinite;
}

.animate-pulse-glow {
    animation: pulse-glow 2s ease-in-out infinite;
}

.animate-slide-up {
    animation: slide-up 0.5s ease-out;
}

.animate-slide-down {
    animation: slide-down 0.5s ease-out;
}

/* ===== Loading Spinner ===== */
.loading-spinner {
    @apply inline-block w-8 h-8 border-4 border-gray-200 border-t-purple-500 rounded-full;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

/* ===== Scrollbar Styling ===== */
::-webkit-scrollbar {
    width: 12px;
    height: 12px;
}

::-webkit-scrollbar-track {
    @apply bg-gray-100 rounded-full;
}

::-webkit-scrollbar-thumb {
    @apply bg-gradient-to-b from-blue-400 to-purple-400 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
    @apply bg-gradient-to-b from-blue-500 to-purple-500;
}

/* Firefox scrollbar */
* {
    scrollbar-width: thin;
    scrollbar-color: #a78bfa #f3f4f6;
}

/* ===== Text Selection ===== */
::selection {
    background-color: rgba(139, 92, 246, 0.3);
    color: inherit;
}

::-moz-selection {
    background-color: rgba(139, 92, 246, 0.3);
    color: inherit;
}

/* ===== Focus Styles ===== */
*:focus {
    outline: none;
}

*:focus-visible {
    @apply ring-2 ring-purple-500 ring-offset-2;
}

button:focus-visible,
a:focus-visible {
    @apply ring-2 ring-purple-500 ring-offset-2 rounded-lg;
}

input:focus,
textarea:focus,
select:focus {
    @apply border-purple-500 ring-2 ring-purple-200;
}

/* ===== Transcript Highlight ===== */
.highlighted-segment {
    @apply bg-gradient-to-r from-blue-50 to-purple-50 border-l-4 border-purple-500 pl-4;
    animation: slide-up 0.3s ease-out;
}

/* ===== Tooltips ===== */
.tooltip {
    @apply relative inline-block;
}

.tooltip-content {
    @apply absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-1 text-sm text-white bg-gray-900 rounded-lg opacity-0 invisible transition-all duration-200;
}

.tooltip:hover .tooltip-content {
    @apply opacity-100 visible;
}

/* ===== Accessibility ===== */
.sr-only {
    @apply absolute w-px h-px p-0 -m-px overflow-hidden whitespace-nowrap border-0;
}

.not-sr-only {
    @apply static w-auto h-auto p-0 m-0 overflow-visible whitespace-normal;
}

/* Skip to content link */
.skip-link {
    @apply sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-purple-600 focus:text-white focus:rounded-lg;
}

/* ===== Reduced Motion ===== */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}

/* ===== Print Styles ===== */
@media print {
    body {
        background: white;
        color: black;
    }

    .no-print {
        display: none !important;
    }

    .card {
        box-shadow: none;
        border: 1px solid #e5e7eb;
    }
}

/* ===== Utilities ===== */
@layer utilities {
    /* Gradient backgrounds */
    .bg-gradient-primary {
        @apply bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500;
    }

    .bg-gradient-secondary {
        @apply bg-gradient-to-r from-blue-50 via-purple-50 to-pink-50;
    }

    /* Text utilities */
    .text-balance {
        text-wrap: balance;
    }

    /* Layout utilities */
    .center {
        @apply flex items-center justify-center;
    }

    .stack {
        @apply flex flex-col space-y-4;
    }

    /* Glass effect */
    .glass {
        @apply bg-white bg-opacity-80 backdrop-blur-lg;
    }

    .glass-dark {
        @apply bg-gray-900 bg-opacity-80 backdrop-blur-lg;
    }
}

/* ===== Custom Properties for JavaScript ===== */
[data-loading="true"] {
    @apply opacity-50 pointer-events-none;
}

[data-error="true"] {
    @apply border-red-500 bg-red-50;
}

[data-success="true"] {
    @apply border-green-500 bg-green-50;
}
